
<!-- templates/ledger.html -->
{% extends 'base.html' %}

{% block title %}Inventory Ledger{% endblock %}

{% block content %}
<h1>Inventory Ledger</h1>

<!-- Search and Filter Form -->
<form method="GET" action="{% url 'ledger' %}">
    <label for="search">Search by Item Name:</label>
    <input type="text" name="search" id="search" placeholder="Search item..." value="{{ request.GET.search }}">

    <label for="category">Filter by Category:</label>
    <select name="category" id="category">
        <option value="">All Categories</option>
        {% for category in categories %}
        <option value="{{ category }}" {% if request.GET.category == category %}selected{% endif %}>{{ category }}</option>
        {% endfor %}
    </select>

    <label for="brand">Filter by Brand:</label>
    <select name="brand" id="brand">
        <option value="">All Brands</option>
        {% for brand in brands %}
        <option value="{{ brand }}" {% if request.GET.brand == brand %}selected{% endif %}>{{ brand }}</option>
        {% endfor %}
    </select>

    <button type="submit">Search/Filter</button>
</form>

<h2>Products</h2>
<table>
    <thead>
        <tr>
            <th>Name</th>
            <th>Serial</th>
            <th>Quantity</th>
            <th>Category</th>
            <th>Brand</th>
            <th>Status</th>
            <th>Condition</th>
            <th>Operation</th>
        </tr>
    </thead>
    <tbody>
        {% for product in products %}
        <tr>
            <td>{{ product.name }}</td>
            <td>{{ product.serial }}</td>
            <td>{{ product.quantity }}</td>
            <td>{{ product.category }}</td>
            <td>{{ product.brand }}</td>
            <td>{{ product.status }}</td>
            <td>{{ product.condition }}</td>
            <td>{{ product.operation }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<h2>Transactions</h2>
<table>
    <thead>
        <tr>
            <th>Transaction Type</th>
            <th>Item</th>
            <th>Quantity</th>
            <th>Date</th>
            <th>User</th>
        </tr>
    </thead>
    <tbody>
        {% for transaction in transactions %}
        <tr>
            <td>{{ transaction.Transact_type }}</td>
            <td>{{ transaction.item.name }}</td>
            <td>{{ transaction.quantity }}</td>
            <td>{{ transaction.date }}</td>
            <td>{{ transaction.user.username }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<h2>Allocations</h2>
<table>
    <thead>
        <tr>
            <th>Item</th>
            <th>Department</th>
        </tr>
    </thead>
    <tbody>
        {% for allocation in allocations %}
        <tr>
            <td>{{ allocation.item_id.name }}</td>
            <td>{{ allocation.department_id.department_name }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}





{#<!-- templates/ledger.html -->#}
{#{% extends 'base.html' %}#}
{##}
{#{% block title %}Inventory Ledger{% endblock %}#}
{##}
{#{% block content %}#}
{#<h1>Inventory Ledger</h1>#}
{##}
{#<h2>Products</h2>#}
{#<table>#}
{#    <thead>#}
{#        <tr>#}
{#            <th>Name</th>#}
{#            <th>Serial</th>#}
{#            <th>Quantity</th>#}
{#            <th>Category</th>#}
{#            <th>Brand</th>#}
{#            <th>Status</th>#}
{#            <th>Condition</th>#}
{#            <th>Operation</th>#}
{#        </tr>#}
{#    </thead>#}
{#    <tbody>#}
{#        {% for product in products %}#}
{#        <tr>#}
{#            <td>{{ product.name }}</td>#}
{#            <td>{{ product.serial }}</td>#}
{#            <td>{{ product.quantity }}</td>#}
{#            <td>{{ product.category }}</td>#}
{#            <td>{{ product.brand }}</td>#}
{#            <td>{{ product.status }}</td>#}
{#            <td>{{ product.condition }}</td>#}
{#            <td>{{ product.operation }}</td>#}
{#        </tr>#}
{#        {% endfor %}#}
{#    </tbody>#}
{#</table>#}
{##}
{#<h2>Transactions</h2>#}
{#<table>#}
{#    <thead>#}
{#        <tr>#}
{#            <th>Transaction Type</th>#}
{#            <th>Item</th>#}
{#            <th>Quantity</th>#}
{#            <th>Date</th>#}
{#            <th>User</th>#}
{#        </tr>#}
{#    </thead>#}
{#    <tbody>#}
{#        {% for transaction in transactions %}#}
{#        <tr>#}
{#            <td>{{ transaction.Transact_type }}</td>#}
{#            <td>{{ transaction.item.name }}</td>#}
{#            <td>{{ transaction.quantity }}</td>#}
{#            <td>{{ transaction.date }}</td>#}
{#            <td>{{ transaction.user.username }}</td>#}
{#        </tr>#}
{#        {% endfor %}#}
{#    </tbody>#}
{#</table>#}
{##}
{#<h2>Allocations</h2>#}
{#<table>#}
{#    <thead>#}
{#        <tr>#}
{#            <th>Item</th>#}
{#            <th>Department</th>#}
{#        </tr>#}
{#    </thead>#}
{#    <tbody>#}
{#        {% for allocation in allocations %}#}
{#        <tr>#}
{#            <td>{{ allocation.item_id.name }}</td>#}
{#            <td>{{ allocation.department_id.department_name }}</td>#}
{#        </tr>#}
{#        {% endfor %}#}
{#    </tbody>#}
{#</table>#}
{#{% endblock %}#}
