{% extends "base.html" %}
{% load static %}
{% block title %}Product Detail{% endblock %}

{% block header %}
    {% include "inventory/include/header.html" %}
{% endblock %}

{% block content %}
    <div class="content">
        <div align="center">
            <table border="0" style="width: 90%">
                <caption style="font-size: 2em; margin: 10px 0;">PRODUCT DETAILS</caption>
                <!-- Department Details -->
                <thead>
                    <tr>
                        <th colspan="10" style="padding: 10px;">Department Details</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th colspan="2">Name</th>
                        <td>{{ department.department_name|capfirst }}</td>
                        <th colspan="2">Address</th>
                        <td>Room: {{ department.department_address }}</td>
                        <th>Block</th>
                        <td colspan="4">{{ department.block }}</td>
                    </tr>
                    <tr>
                        <th colspan="2">Total items</th>
                        <td>{{ product.quantity }}</td>
                        <th colspan="2">Contact:</th>
                        <td>{{ department.contact }}</td>
                    </tr>

                    <!-- Product Details -->
                    <tr>
                        <th colspan="10" style="padding: 10px;">Product Details</th>
                    </tr>
                    <tr>
                        <th style="width: 10px" scope="col">Sn</th>
                        <th scope="col">Item</th>
                        <th scope="col">Serial (Code)</th>
                        <th scope="col">Status</th>
                        <th scope="col">Batch</th>
                        <th scope="col">Condition</th>
                        <th scope="col">Category</th>
                        <th scope="col">Quantity</th>
                        <th scope="col">Brand</th>
                        <th scope="col">Operation</th>
                    </tr>
                    <tr>
                        <td>{{ product.id }}</td>
                        <td>{{ product.name }}</td>
                        <td>{{ product.serial }}</td>
                        <td>{{ product.status }}</td>
                        <td>{{ product.batch }}</td>
                        <td>{{ product.condition }}</td>
                        <td>{{ product.category }}</td>
                        <td>{{ product.quantity }}</td>
                        <td>{{ product.brand }}</td>
                        <td>{{ product.operation }}</td>
                    </tr>

                    <!-- Additional Details -->
                    <tr>
                        <th colspan="10">Details</th>
                    </tr>
                    <tr>
                        <td colspan="10" style="padding: 20px;">{{ product.details|default:"No additional details available." }}</td>
                    </tr>

                    <!-- Report Information -->
                    <tr>
                        <th colspan="10" style="padding: 10px;">System Report</th>
                    </tr>
                    <tr>
                        <th colspan="2">Generated date:</th>
                        <td>{{ product.created_at|date:"Y-m-d H:i" }}</td>
                        <th colspan="2">Updated at:</th>
                        <td>{{ product.updated_at|date:"Y-m-d H:i" }}</td>
                        <th colspan="2">Report Generated by:</th>
                        <td colspan="2">{{ department.department_name|capfirst }}</td>
                    </tr>
                    <tr>
                        <th colspan="10" style="font-size:9px; padding: 10px; background-color: rgba(71,78,93,0.38);">
                            Tasaf Inventory Management System (TIMS) system-generated report
                        </th>
                    </tr>
                </tbody>
            </table>
        </div>
        <hr>
        <div align="center">
            <br><br>
            <a class="button" href="{% url 'edit_product' product.id %}">Edit</a>
            <a class="button" style="background-color: red" href="{% url 'delete_product' product.id %}" aria-label="Delete {{ product.name }}">Delete</a>
            <a class="button" href="#" aria-label="Print product details">Print</a>
            <a class="button" href="{% url 'ledger' %}" style="margin-left: -500px;">Back</a>
        </div>
    </div>
{% endblock %}
